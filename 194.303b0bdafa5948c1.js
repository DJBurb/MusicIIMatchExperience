"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[194],{194:(D,v,u)=>{u.r(v),u.d(v,{GamePlayPageModule:()=>S});var b=u(177),A=u(4341),C=u(5150),_=u(4964),e=u(3953),w=u(601),y=u(523);let I=(()=>{var t;class i{constructor(){}getRandomInt(n,r){return n=Math.ceil(n),r=Math.floor(r),Math.floor(Math.random()*(r-n+1))+n}generateAdditionProblems(n,r,a,g){const p=[];for(let P=0;P<n;P++){let c,m;g?(c=this.getRandomInt(0,9),m=this.getRandomInt(Math.max(10,r),a),Math.random()<.5&&([c,m]=[m,c])):(c=this.getRandomInt(r,a),m=this.getRandomInt(r,a));const d=c+m,h=new Set;for(h.add(d);h.size<4;){const s=this.getRandomInt(r,a)+this.getRandomInt(r,a);s!==d&&h.add(s)}const l=Array.from(h);for(let s=l.length-1;s>0;s--){const f=Math.floor(Math.random()*(s+1));[l[s],l[f]]=[l[f],l[s]]}p.push({problem:`${c} + ${m}`,choices:l,correctAnswer:d})}return p}generateSubtractionProblems(n,r,a,g=!1){const p=[];for(let P=0;P<n;P++){let c=this.getRandomInt(r,a),m=this.getRandomInt(r,a);!g&&c<m&&([c,m]=[m,c]);const d=c-m,h=new Set;for(h.add(d);h.size<4;){let s=this.getRandomInt(r,a)-this.getRandomInt(r,a);!g&&s<0&&(s=Math.abs(s)),s!==d&&h.add(s)}const l=Array.from(h);for(let s=l.length-1;s>0;s--){const f=Math.floor(Math.random()*(s+1));[l[s],l[f]]=[l[f],l[s]]}p.push({problem:`${c} - ${m}`,choices:l,correctAnswer:d})}return p}}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),i})();function M(t,i){if(1&t){const o=e.RV6();e.j41(0,"ion-item",2)(1,"div",6)(2,"div",7)(3,"div",8),e.bIt("click",function(){e.eBV(o);const r=e.XpG(2);return e.Njj(r.acceptAnswer(r.currentProblem.choices[0]))}),e.EFF(4),e.k0s(),e.j41(5,"div",8),e.bIt("click",function(){e.eBV(o);const r=e.XpG(2);return e.Njj(r.acceptAnswer(r.currentProblem.choices[1]))}),e.EFF(6),e.k0s()(),e.j41(7,"div",9)(8,"div",8),e.bIt("click",function(){e.eBV(o);const r=e.XpG(2);return e.Njj(r.acceptAnswer(r.currentProblem.choices[2]))}),e.EFF(9),e.k0s(),e.j41(10,"div",8),e.bIt("click",function(){e.eBV(o);const r=e.XpG(2);return e.Njj(r.acceptAnswer(r.currentProblem.choices[3]))}),e.EFF(11),e.k0s()()()()}if(2&t){const o=e.XpG(2);e.R7$(4),e.SpI(" A. ",null==o.currentProblem?null:o.currentProblem.choices[0]," "),e.R7$(2),e.SpI(" B. ",null==o.currentProblem?null:o.currentProblem.choices[1]," "),e.R7$(3),e.SpI(" C. ",null==o.currentProblem?null:o.currentProblem.choices[2]," "),e.R7$(2),e.SpI(" D. ",null==o.currentProblem?null:o.currentProblem.choices[3]," ")}}function G(t,i){1&t&&(e.j41(0,"div",13),e.EFF(1," Correct!!!!! "),e.k0s())}function k(t,i){1&t&&(e.j41(0,"div",14),e.EFF(1," Wrong "),e.k0s())}function R(t,i){if(1&t&&(e.j41(0,"ion-item",10),e.DNE(1,G,2,0,"div",11)(2,k,2,0,"div",12),e.k0s()),2&t){const o=e.XpG(2);e.R7$(),e.Y8G("ngIf",o.isCorrect),e.R7$(),e.Y8G("ngIf",o.isWrong)}}function T(t,i){if(1&t&&(e.j41(0,"ion-content",1)(1,"ion-item",2)(2,"ion-label",3),e.EFF(3),e.k0s()(),e.DNE(4,M,12,4,"ion-item",4)(5,R,3,2,"ion-item",5),e.k0s()),2&t){const o=e.XpG();e.R7$(3),e.SpI(" ",null==o.currentProblem?null:o.currentProblem.problem," "),e.R7$(),e.Y8G("ngIf",o.currentProblemIndex<o.numberOfProblems),e.R7$(),e.Y8G("ngIf",o.isCorrect||o.isWrong)}}let j=(()=>{var t;class i{constructor(n){this.mathService=n,this.mathType=0,this.numberOfProblems=10,this.minAddend=0,this.maxAddend=10,this.results=new e.bkB,this.currentProblemIndex=0,this.correctAnswers=0,this.wrongAnswers=0}ngOnInit(){this.getMathProblems()}getMathProblems(){var n;this.mathType.toString()===y.G.Addition.toString()?this.problems=this.mathService.generateAdditionProblems(this.numberOfProblems,this.minAddend,this.maxAddend,this.twoDigitPlusOneDigit):this.mathType===y.G.Subtraction&&(this.problems=this.mathService.generateSubtractionProblems(this.numberOfProblems,this.minAddend,this.maxAddend,this.allowNegatives)),(null===(n=this.problems)||void 0===n?void 0:n.length)>0&&this.getCurrentProblem()}getCurrentProblem(){this.currentProblem=this.problems[this.currentProblemIndex]}acceptAnswer(n){this.disableClick||(n===this.currentProblem.correctAnswer?(this.correctAnswers=this.correctAnswers+1,this.isCorrect=!0,this.disableClick=!0,setTimeout(()=>{this.isCorrect=!1,this.currentProblemIndex++,this.getCurrentProblem(),this.disableClick=!1},2e3)):(this.wrongAnswers=this.wrongAnswers+1,this.isWrong=!0,this.disableClick=!0,setTimeout(()=>{this.isWrong=!1,this.currentProblemIndex++,this.getCurrentProblem(),this.disableClick=!1},2e3)),this.currentProblemIndex===this.numberOfProblems-1&&this.results.emit({correctAnswers:this.correctAnswers,wrongAnswers:this.wrongAnswers,mathType:this.mathType,songFile:"",level:this.level}))}}return(t=i).\u0275fac=function(n){return new(n||t)(e.rXU(I))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-math"]],inputs:{mathType:"mathType",numberOfProblems:"numberOfProblems",minAddend:"minAddend",maxAddend:"maxAddend",allowNegatives:"allowNegatives",twoDigitPlusOneDigit:"twoDigitPlusOneDigit",level:"level",isBigProblem:"isBigProblem"},outputs:{results:"results"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","ion-padding container",4,"ngIf"],[1,"ion-padding","container"],["lines","none"],[1,"problem"],["lines","none",4,"ngIf"],["class","answer-result",4,"ngIf"],[1,"choices"],[1,"choicesColumn1"],[1,"answer",3,"click"],[1,"choicesColumn2"],[1,"answer-result"],["class","answer-result-correct",4,"ngIf"],["class","answer-result-wrong",4,"ngIf"],[1,"answer-result-correct"],[1,"answer-result-wrong"]],template:function(n,r){1&n&&e.DNE(0,T,6,3,"ion-content",0),2&n&&e.Y8G("ngIf",r.currentProblemIndex<r.numberOfProblems)},dependencies:[w.W9,w.uz,w.he,b.MD,b.bT],styles:[".problem[_ngcontent-%COMP%]{font-size:4em;display:flex;justify-content:center}.container[_ngcontent-%COMP%]{--height: auto}.answer[_ngcontent-%COMP%]{margin-bottom:20px}.choices[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;font-size:3em;margin-top:25px}.choicesColumn1[_ngcontent-%COMP%]{margin-right:50px}.answer-result[_ngcontent-%COMP%]{margin-top:20px}.answer-result-wrong[_ngcontent-%COMP%]{font-size:4em;background-color:#fa0707;width:100%;display:flex;justify-content:center}.answer-result-correct[_ngcontent-%COMP%]{font-size:4em;background-color:#1b9e49;width:100%;display:flex;justify-content:center}"]}),i})();const O=[{path:"",component:(()=>{var t;class i{constructor(n,r){this.route=n,this.router=r,this.correctAnswers=0,this.wrongAnswers=0}ngOnInit(){this.route.params.subscribe(n=>{this.myParams=n})}showResults(n){n.level=this.myParams.level,n.songFile=this.myParams.songFile,this.router.navigate(["finished-results",n])}goToLevelSkillsMenu(){this.router.navigate(["level-"+this.myParams.level+"-skills"])}}return(t=i).\u0275fac=function(n){return new(n||t)(e.rXU(_.nX),e.rXU(_.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-game-play"]],standalone:!0,features:[e.aNF],decls:5,vars:9,consts:[[1,"game-play-container"],[3,"results","mathType","minAddend","maxAddend","allowNegatives","numberOfProblems","twoDigitPlusOneDigit","level","isBigProblem"],[1,"return-to-menu"],[3,"click"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"app-math",1),e.bIt("results",function(g){return r.showResults(g)}),e.k0s()(),e.j41(2,"div",2)(3,"ion-button",3),e.bIt("click",function(){return r.goToLevelSkillsMenu()}),e.EFF(4),e.k0s()()),2&n&&(e.R7$(),e.Y8G("mathType",r.myParams.mathType)("minAddend",r.myParams.minAddend)("maxAddend",r.myParams.maxAddend)("allowNegatives",r.myParams.allowNegatives)("numberOfProblems",10)("twoDigitPlusOneDigit",r.myParams.twoDigitPlusOneDigit)("level",r.myParams.level)("isBigProblem",r.myParams.isBaseTen),e.R7$(3),e.SpI("Return To Level ",r.myParams.level," Menu"))},dependencies:[j,b.MD,w.Jm],styles:[".game-play-container[_ngcontent-%COMP%]{height:400px}"]}),i})()}];let F=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[_.iI.forChild(O),_.iI]}),i})(),S=(()=>{var t;class i{}return(t=i).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[b.MD,A.YN,C.bv,F]}),i})()}}]);